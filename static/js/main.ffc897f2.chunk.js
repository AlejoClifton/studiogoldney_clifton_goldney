(this.webpackJsonpstudiogoldney=this.webpackJsonpstudiogoldney||[]).push([[0],{40:function(e,t,c){},42:function(e,t,c){},45:function(e,t,c){},46:function(e,t,c){},47:function(e,t,c){},48:function(e,t,c){},49:function(e,t,c){},50:function(e,t,c){},51:function(e,t,c){},52:function(e,t,c){"use strict";c.r(t);var n=c(5),i=c.n(n),s=c(34),a=c.n(s),o=(c(40),c(21)),r=c(7),d=c(2),j=i.a.createContext(),l=function(e){var t=e.children,c=Object(n.useState)([]),i=Object(r.a)(c,2),s=i[0],a=i[1],l=Object(n.useState)(0),u=Object(r.a)(l,2),b=u[0],O=u[1],h=Object(n.useState)(0),x=Object(r.a)(h,2),m=x[0],f=x[1],g=Object(n.useState)(""),v=Object(r.a)(g,2),p=v[0],y=v[1],N=function(e){O(b+e)};return Object(d.jsx)(j.Provider,{value:{values:{itemCart:s,quantity:b,total:m,email:p},itemCart:s,addItemCart:function(e){a([].concat(Object(o.a)(s),[e])),f(m+e.oneProduct.price*e.count)},removeItemCart:function(e,t){var c=s.filter((function(t){return t.oneProduct.id===e})),n=c[0].oneProduct.price*c[0].count;a(s.filter((function(t){return t.oneProduct.id!==e}))),O(b-t),f(m-n)},clearItems:function(){a([]),O(0)},addQuantity:N,addQuantityById:function(e,t){var c=s.find((function(t){return t.oneProduct.id===e}));c.count=c.count+t,N(t)},itemById:function(e){return s.find((function(t){return t.oneProduct.id===e}))},updateEmail:function(e){y(e)}},children:t})},u=j,b=i.a.createContext(),O=function(e){var t=e.children,c=Object(n.useState)(""),i=Object(r.a)(c,2),s=i[0],a=i[1],o=Object(n.useState)(""),j=Object(r.a)(o,2),l=j[0],u=j[1];return Object(d.jsx)(b.Provider,{value:{notification:{message:s,severity:l},setNotification:function(e,t){a(t),u(e),setTimeout((function(){a(""),u("")}),2e3)}},children:t})},h=b,x=c(14),m=c(12),f=c(20),g=(c(42),function(e){var t=e.category;return Object(d.jsx)("li",{children:Object(d.jsx)(x.b,{className:"list",to:"/studiogoldney_clifton_goldney/category/".concat(t.id),children:t.name})})}),v=function(){var e=Object(n.useContext)(u).values;return Object(d.jsxs)(x.b,{to:"/studiogoldney_clifton_goldney/cart",className:"CartWidget",children:[Object(d.jsx)("i",{className:"fas fa-shopping-cart"}),Object(d.jsx)("p",{children:e.quantity})]})},p=function(e){var t=e.categories,c=Object(n.useState)(!1),i=Object(r.a)(c,2),s=i[0],a=i[1],o=Object(n.useState)("navContainer"),j=Object(r.a)(o,2),l=j[0],u=j[1];return Object(d.jsxs)("div",{className:"navBar",children:[Object(d.jsx)(x.b,{to:"/studiogoldney_clifton_goldney/",className:"navUser",children:"Studio Goldney"}),Object(d.jsx)("ul",{className:l,children:t.map((function(e){return Object(d.jsx)(g,{category:e},e.id)}))}),Object(d.jsx)(v,{}),Object(d.jsx)("i",{onClick:function(){s?(u("navContainer"),a(!1)):(u("navContainer displayNav"),a(!0))},className:"fas fa-bars buttonMenu"})]})},y=c(13),N=c(35),C=Object(N.a)({apiKey:"AIzaSyBpgo0GgEN7Ayo9f4ghmzbBt9bIsOSeaHQ",authDomain:"studio-goldney.firebaseapp.com",projectId:"studio-goldney",storageBucket:"studio-goldney.appspot.com",messagingSenderId:"1078875871398",appId:"1:1078875871398:web:e572ff92ce82d1ee79fc67"}),k=Object(y.g)(C),I=function(){var e=Object(n.useState)([]),t=Object(r.a)(e,2),c=t[0],i=t[1];return Object(n.useEffect)((function(){Object(y.f)(Object(y.c)(k,"category")).then((function(e){var t=e.docs.map((function(e){return Object(f.a)({id:e.id},e.data())}));i(t)})).catch((function(e){console.log(e)}))}),[]),Object(d.jsx)("div",{children:Object(d.jsx)(p,{categories:c})})},S=(c(45),function(){return Object(d.jsxs)("div",{className:"footer",children:[Object(d.jsx)("h1",{children:"Alejo Tom\xe1s Clifton Goldney"}),Object(d.jsx)("h2",{children:"T\xe9cnico Universario en Programaci\xf3n"})]})}),_=function(e){var t=e.product;return Object(d.jsxs)("div",{className:"ItemsProducts",children:[Object(d.jsx)("img",{src:t.img,alt:"Imagen"}),Object(d.jsxs)("h1",{children:[" ",t.name," "]}),Object(d.jsxs)("p",{className:"Price",children:["$",t.price]}),Object(d.jsx)(x.b,{to:"/studiogoldney_clifton_goldney/item/".concat(t.id),className:"linkClick",children:"ver detalle del producto"})]})},P=function(e){var t=e.products;return Object(d.jsx)("div",{className:"listProduct",children:t.map((function(e){return Object(d.jsx)(_,{product:e},e.id)}))})},T=(c(46),function(e){e.greeting,e.classItemListContainer;var t=Object(n.useState)([]),c=Object(r.a)(t,2),i=c[0],s=c[1],a=Object(m.g)().categoryId,o=Object(n.useState)(!1),j=Object(r.a)(o,2),l=j[0],u=j[1];return Object(n.useEffect)((function(){(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return""===t?new y.f(Object(y.c)(k,e)).then((function(e){return e.docs.map((function(e){return Object(f.a)({id:e.id},e.data())}))})).catch((function(e){console.log(e)})):new y.f(Object(y.h)(Object(y.c)(k,e),Object(y.i)("categoryId","==",t))).then((function(e){return e.docs.map((function(e){return Object(f.a)({id:e.id},e.data())}))})).catch((function(e){console.log(e)}))})("items",a).then((function(e){s(e),0===e.length?u(!1):u(!0)})).catch((function(e){console.log(e)}))}),[a]),Object(d.jsx)("div",{className:"itemListContainer",children:l?Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{className:"title",children:"Productos"}),Object(d.jsx)(P,{products:i})]}):Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"Cargando..."}),Object(d.jsxs)("div",{className:"lds-facebook",children:[Object(d.jsx)("div",{}),Object(d.jsx)("div",{}),Object(d.jsx)("div",{})]})]})})}),D=function(e){var t=e.getStock,c=e.getInitial,i=e.onAdd,s=Object(n.useState)(t),a=Object(r.a)(s,1)[0],o=Object(n.useState)(c),j=Object(r.a)(o,2),l=j[0],u=j[1];return Object(d.jsx)("div",{className:"itemCount",children:Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"numbers",children:[Object(d.jsx)("i",{className:"fas fa-minus",onClick:function(){l>0&&u(l-1)}}),Object(d.jsx)("span",{children:l}),Object(d.jsx)("i",{className:"fas fa-plus",onClick:function(){l<a&&u(l+1)}})]}),Object(d.jsx)("button",{className:"buttonClick",onClick:function(){i(l)},children:"Agregar al Carrito"})]})})},B=(c(47),function(){var e=Object(n.useState)([]),t=Object(r.a)(e,2),c=t[0],i=t[1],s=Object(m.g)().paramId,a=Object(n.useContext)(u),o=a.addItemCart,j=a.addQuantity,l=a.addQuantityById,b=a.itemById,O=Object(n.useContext)(h).setNotification,g=Object(n.useState)(!1),v=Object(r.a)(g,2),p=v[0],N=v[1],C=Object(n.useState)(!1),I=Object(r.a)(C,2),S=I[0],_=I[1];return Object(n.useEffect)((function(){var e,t;return(e="items",t=s,new y.e(Object(y.d)(k,e,t)).then((function(e){return Object(f.a)({id:e.id},e.data())})).catch((function(e){console.log(e)}))).then((function(e){i(e),_(!0)})).catch((function(e){console.log(e)})),function(){i()}}),[s]),Object(d.jsx)("div",{className:"itemDetailContainer",children:S?Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{className:"title",children:"Producto Seleccionado"}),Object(d.jsxs)("h2",{children:[" ",c.name," "]}),Object(d.jsxs)("div",{className:"containerDetail",children:[Object(d.jsx)("img",{src:c.img,alt:"Imagen"}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("p",{children:[Object(d.jsx)("span",{className:"span",children:"Descripcion:"})," ",c.description]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("span",{className:"span",children:"Precio:"})," $",c.price]}),c.stock>0?Object(d.jsxs)("div",{children:[Object(d.jsxs)("p",{children:[Object(d.jsx)("span",{className:"span",children:"Stock Disponible:"})," ",c.stock]}),p?Object(d.jsxs)("div",{className:"link",children:[Object(d.jsx)("div",{children:Object(d.jsx)(x.b,{className:"linkClick",to:"/studiogoldney_clifton_goldney/",children:"Seleccionar otro Art\xedculo"})}),Object(d.jsx)("div",{children:Object(d.jsx)(x.b,{className:"linkClick",to:"/studiogoldney_clifton_goldney/cart",children:"Ir al Carrito"})})]}):Object(d.jsx)(D,{getStock:c.stock,onAdd:function(e){if(e>0){var t=b(c.id);t?t.count+e<=c.stock?(O("succes","\xa1Agregada la cantidad de ".concat(e," de ").concat(c.name," a tu carrito!")),l(c.id,e),N(!0)):O("error","\xa1Ingresaste m\xe1s productos del stock permitido!"):(o({oneProduct:c,count:e}),O("succes","\xa1Agregada la cantidad de ".concat(e," de ").concat(c.name," a tu carrito!")),j(e),N(!0))}else O("error","\xa1No seleccionaste ning\xfan art\xedculo de ".concat(c.name," a tu carrito!"))},getInitial:0})]}):Object(d.jsx)("p",{className:"spanBlock",children:"Stock No Disponible"})]})]})]}):Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{className:"title",children:"Cargando..."}),Object(d.jsxs)("div",{className:"lds-facebook",children:[Object(d.jsx)("div",{}),Object(d.jsx)("div",{}),Object(d.jsx)("div",{})]})]})})}),E=function(e){var t=e.item,c=e.count,i=Object(n.useContext)(u).removeItemCart;return Object(d.jsx)("tbody",{className:"listCartBody",children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsx)("img",{src:t.img,alt:"Imagen"})}),Object(d.jsx)("td",{children:Object(d.jsxs)("h1",{children:[" ",t.name," "]})}),Object(d.jsx)("td",{children:Object(d.jsx)("h2",{className:"Count",children:c})}),Object(d.jsx)("td",{children:Object(d.jsxs)("h2",{className:"Price",children:["$",t.price*c]})}),Object(d.jsx)("td",{children:Object(d.jsx)("i",{onClick:function(){i(t.id,c)},className:"far fa-times-circle"})})]})})},A=function(e){var t=e.items,c=e.total;return Object(d.jsxs)("table",{className:"listCartProduct",children:[Object(d.jsx)("thead",{className:"listCartHead",children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Productos"}),Object(d.jsx)("th",{children:"Nombre"}),Object(d.jsx)("th",{children:"Cantidad"}),Object(d.jsx)("th",{children:"Precio"}),Object(d.jsx)("th",{})]})}),t.map((function(e){return Object(d.jsx)(E,{item:e.oneProduct,count:e.count},e.oneProduct.id)})),Object(d.jsx)("tfoot",{children:Object(d.jsxs)("tr",{className:"listCartTotal",children:[Object(d.jsx)("td",{}),Object(d.jsx)("td",{}),Object(d.jsx)("td",{children:Object(d.jsx)("h2",{children:"Total:"})}),Object(d.jsx)("td",{children:Object(d.jsxs)("h2",{children:["$",c]})}),Object(d.jsx)("td",{})]})})]})},q=(c(48),function(){var e=Object(n.useContext)(u).itemCart,t=Object(n.useContext)(u),c=t.clearItems,i=t.values,s=Object(n.useContext)(h).setNotification;return Object(d.jsx)("div",{className:"containerCart",children:0!==e.length?Object(d.jsxs)("div",{children:[Object(d.jsx)("button",{className:"buttonCart",onClick:c,children:"Borrar todos los items"}),Object(d.jsx)(A,{items:e,total:i.total}),Object(d.jsx)(x.b,{to:"/studiogoldney_clifton_goldney/checkout",onClick:function(){s("succes","\xa1Finalizaste tu compra! \xa1compraste ".concat(i.quantity," productos a $").concat(i.total,"!"))},children:Object(d.jsx)("button",{className:"buttonCartEnd",children:"Terminar Compra"})})]}):Object(d.jsxs)("div",{className:"listNotCart",children:[Object(d.jsx)(x.b,{to:"/",children:Object(d.jsx)("button",{className:"buttonCart",children:"Volver a la tienda"})}),Object(d.jsx)("h2",{children:"Tu carrito est\xe1 vac\xedo"}),Object(d.jsx)("h3",{children:"\xbfNo sab\xe9s qu\xe9 comprar? \xa1Miles de productos te esperan!"})]})})}),w=c(10),$=(c(49),function(){var e=Object(n.useContext)(u),t=e.itemCart,c=e.clearItems,i=e.values,s=e.updateEmail,a=Object(n.useContext)(h).setNotification,o=Object(n.useState)({nombre:"",apellido:"",telefono:"",email:""}),j=Object(r.a)(o,2),l=j[0],b=j[1],O=Object(n.useState)(!1),g=Object(r.a)(O,2),v=g[0],p=g[1],N=Object(m.f)(),C=Object(y.j)(k),I=[],S=function(e){var t=e.target,c=t.name,n=t.value;b(Object(f.a)(Object(f.a)({},l),{},Object(w.a)({},c,n)))};return Object(d.jsx)("div",{className:"checkoutContainer",children:t.length>0?Object(d.jsx)("div",{children:v?Object(d.jsx)("h1",{children:"Ser\xe1 redirigido al Dashboard"}):Object(d.jsxs)("form",{method:"post",onSubmit:function(e){e.preventDefault();var n={buyer:{nombre:l.nombre,apellido:l.apellido,phone:l.telefono,email:l.email},items:t,total:i.total,date:y.a.fromDate(new Date)};n.items.forEach((function(e){Object(y.e)(Object(y.d)(k,"items",e.oneProduct.id)).then((function(t){t.data().stock>=e.count?C.update(Object(y.d)(k,"items",t.id),{stock:t.data().stock-e.count}):I.push(Object(f.a)({id:t.id},t.data()))})).catch((function(e){console.log(e)}))})),0===I.length&&Object(y.b)(Object(y.c)(k,"orders"),n).then((function(e){var t=e.id;C.commit().then((function(){a("succes","Su orden es: "+t)}))})).catch((function(e){a("error","Error ejecutando la orden"+e)})).finally((function(){s(n.buyer.email),setTimeout((function(){N("/studiogoldney_clifton_goldney/dashboard"),c()}),4e3),p(!0)}))},children:[Object(d.jsx)("h1",{children:"Ingresar Datos"}),Object(d.jsx)("div",{className:"containerText",children:Object(d.jsx)("input",{type:"text",placeholder:"Nombre",name:"nombre",id:"nombre",required:!0,onChange:S})}),Object(d.jsx)("div",{className:"containerText",children:Object(d.jsx)("input",{type:"text",placeholder:"Apellido",name:"apellido",id:"apellido",required:!0,onChange:S})}),Object(d.jsx)("div",{className:"containerText",children:Object(d.jsx)("input",{type:"email",placeholder:"Email",name:"email",id:"email",required:!0,onChange:S})}),Object(d.jsx)("div",{className:"containerText",children:Object(d.jsx)("input",{type:"phone",placeholder:"Tel\xe9fono",name:"telefono",id:"telefono",required:!0,onChange:S})}),Object(d.jsxs)("p",{children:["Total: $",i.total]}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{type:"submit",children:"Enviar"})})]})}):Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"No hay productos en el carrito"}),Object(d.jsx)(x.b,{to:"/studiogoldney_clifton_goldney/",children:Object(d.jsx)("button",{className:"buttonCart",children:"Volver a la tienda"})})]})})}),F=(c(50),function(){var e=Object(n.useContext)(h),t=e.notification,c=e.setNotification;return""===t.message?null:Object(d.jsx)("div",{className:"notification",style:{color:"error"===t.severity?"red":"green"},onClick:function(){return c("succes","")},children:Object(d.jsx)("h1",{children:t.message})})}),L=(c(51),function(e){var t=e.product;return Object(d.jsxs)("div",{className:"ItemsD",children:[Object(d.jsxs)("h1",{children:["ID de Compra: ",t.id]}),Object(d.jsx)("h2",{children:t.buyer.email}),Object(d.jsx)("p",{children:"Productos:"}),t.items.length>0&&t.items.map((function(e){return Object(d.jsxs)("ul",{className:"ulItemsD",children:[Object(d.jsx)("li",{children:e.oneProduct.name}),Object(d.jsxs)("li",{children:["$",e.oneProduct.price]}),Object(d.jsxs)("li",{children:["x",e.count]})]},e.oneProduct.id)})),Object(d.jsxs)("h3",{children:["Total: $",t.total]})]})}),Q=function(e){var t=e.products;return Object(d.jsx)("div",{className:"itemsDash",children:t.map((function(e){return Object(d.jsx)(L,{product:e},e.id)}))})},V=function(){var e=Object(n.useContext)(u).values,t=Object(n.useState)([]),c=Object(r.a)(t,2),i=c[0],s=c[1],a=Object(n.useState)(!1),o=Object(r.a)(a,2),j=o[0],l=o[1];return Object(n.useEffect)((function(){var t;(t="orders",new y.f(Object(y.c)(k,t)).then((function(e){return e.docs.map((function(e){return Object(f.a)({id:e.id},e.data())}))})).catch((function(e){console.log(e)}))).then((function(t){s(t.filter((function(t){return t.buyer.email===e.email}))),0===t.length?l(!1):l(!0)})).catch((function(e){console.log(e)}))}),[e.email]),Object(d.jsx)("div",{className:"dashBoardContainer",children:""!==e.email?Object(d.jsxs)("div",{children:[j?Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{className:"title",children:"Tu Lista de Compras"}),Object(d.jsx)(Q,{products:i})]}):Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"Cargando..."}),Object(d.jsxs)("div",{className:"lds-facebook",children:[Object(d.jsx)("div",{}),Object(d.jsx)("div",{}),Object(d.jsx)("div",{})]})]}),Object(d.jsx)(x.b,{to:"/",children:Object(d.jsx)("button",{className:"buttonCart",children:"Volver a la tienda"})})]}):Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{className:"title",children:"No compraste nada a\xfan"}),Object(d.jsx)(x.b,{to:"/studiogoldney_clifton_goldney/",children:Object(d.jsx)("button",{className:"buttonCart",children:"Volver a la tienda"})})]})})};var z=function(){return Object(d.jsx)("div",{className:"App",children:Object(d.jsx)(O,{children:Object(d.jsx)(l,{children:Object(d.jsxs)(x.a,{children:[Object(d.jsx)(I,{}),Object(d.jsx)(F,{}),Object(d.jsxs)(m.c,{children:[Object(d.jsx)(m.a,{path:"/studiogoldney_clifton_goldney/",element:Object(d.jsx)(T,{})}),Object(d.jsx)(m.a,{path:"/studiogoldney_clifton_goldney/category/:categoryId",element:Object(d.jsx)(T,{})}),Object(d.jsx)(m.a,{path:"/studiogoldney_clifton_goldney/item/:paramId",element:Object(d.jsx)(B,{})}),Object(d.jsx)(m.a,{path:"/studiogoldney_clifton_goldney/cart",element:Object(d.jsx)(q,{})}),Object(d.jsx)(m.a,{path:"/studiogoldney_clifton_goldney/checkout",element:Object(d.jsx)($,{})}),Object(d.jsx)(m.a,{path:"/studiogoldney_clifton_goldney/dashboard",element:Object(d.jsx)(V,{})})]}),Object(d.jsx)(S,{})]})})})})},G=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,53)).then((function(t){var c=t.getCLS,n=t.getFID,i=t.getFCP,s=t.getLCP,a=t.getTTFB;c(e),n(e),i(e),s(e),a(e)}))};a.a.render(Object(d.jsx)(i.a.StrictMode,{children:Object(d.jsx)(z,{})}),document.getElementById("root")),G()}},[[52,1,2]]]);
//# sourceMappingURL=main.ffc897f2.chunk.js.map