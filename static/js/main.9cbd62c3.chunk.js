(this.webpackJsonpstudiogoldney=this.webpackJsonpstudiogoldney||[]).push([[0],{40:function(e,t,c){},42:function(e,t,c){},45:function(e,t,c){},46:function(e,t,c){},47:function(e,t,c){},48:function(e,t,c){},49:function(e,t,c){},50:function(e,t,c){},51:function(e,t,c){},52:function(e,t,c){"use strict";c.r(t);var n=c(5),a=c.n(n),s=c(34),i=c.n(s),r=(c(40),c(21)),o=c(7),j=c(2),d=a.a.createContext(),l=function(e){var t=e.children,c=Object(n.useState)([]),a=Object(o.a)(c,2),s=a[0],i=a[1],l=Object(n.useState)(0),b=Object(o.a)(l,2),u=b[0],O=b[1],h=Object(n.useState)(0),x=Object(o.a)(h,2),m=x[0],f=x[1],v=Object(n.useState)(""),p=Object(o.a)(v,2),g=p[0],N=p[1],C=function(e){O(u+e)};return Object(j.jsx)(d.Provider,{value:{values:{itemCart:s,quantity:u,total:m,email:g},itemCart:s,addItemCart:function(e){i([].concat(Object(r.a)(s),[e])),f(m+e.oneProduct.price*e.count)},removeItemCart:function(e,t){var c=s.filter((function(t){return t.oneProduct.id===e})),n=c[0].oneProduct.price*c[0].count;i(s.filter((function(t){return t.oneProduct.id!==e}))),O(u-t),f(m-n)},clearItems:function(){i([]),O(0)},addQuantity:C,addQuantityById:function(e,t){var c=s.find((function(t){return t.oneProduct.id===e}));c.count=c.count+t,C(t)},itemById:function(e){return s.find((function(t){return t.oneProduct.id===e}))},updateEmail:function(e){N(e)}},children:t})},b=d,u=a.a.createContext(),O=function(e){var t=e.children,c=Object(n.useState)(""),a=Object(o.a)(c,2),s=a[0],i=a[1],r=Object(n.useState)(""),d=Object(o.a)(r,2),l=d[0],b=d[1];return Object(j.jsx)(u.Provider,{value:{notification:{message:s,severity:l},setNotification:function(e,t){i(t),b(e),setTimeout((function(){i(""),b("")}),2e3)}},children:t})},h=u,x=c(14),m=c(12),f=c(20),v=(c(42),function(e){var t=e.category;return Object(j.jsx)("li",{children:Object(j.jsx)(x.b,{className:"list",to:"/category/".concat(t.id),children:t.name})})}),p=function(){var e=Object(n.useContext)(b).values;return Object(j.jsxs)(x.b,{to:"/cart",className:"CartWidget",children:[Object(j.jsx)("i",{className:"fas fa-shopping-cart"}),Object(j.jsx)("p",{children:e.quantity})]})},g=function(e){var t=e.categories,c=Object(n.useState)(!1),a=Object(o.a)(c,2),s=a[0],i=a[1],r=Object(n.useState)("navContainer"),d=Object(o.a)(r,2),l=d[0],b=d[1];return Object(j.jsxs)("div",{className:"navBar",children:[Object(j.jsx)(x.b,{to:"/",className:"navUser",children:"Studio Goldney"}),Object(j.jsx)("ul",{className:l,children:t.map((function(e){return Object(j.jsx)(v,{category:e},e.id)}))}),Object(j.jsx)(p,{}),Object(j.jsx)("i",{onClick:function(){s?(b("navContainer"),i(!1)):(b("navContainer displayNav"),i(!0))},className:"fas fa-bars buttonMenu"})]})},N=c(13),C=c(35),y=Object(C.a)({apiKey:"AIzaSyBpgo0GgEN7Ayo9f4ghmzbBt9bIsOSeaHQ",authDomain:"studio-goldney.firebaseapp.com",projectId:"studio-goldney",storageBucket:"studio-goldney.appspot.com",messagingSenderId:"1078875871398",appId:"1:1078875871398:web:e572ff92ce82d1ee79fc67"}),k=Object(N.g)(y),I=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],a=t[1];return Object(n.useEffect)((function(){Object(N.f)(Object(N.c)(k,"category")).then((function(e){var t=e.docs.map((function(e){return Object(f.a)({id:e.id},e.data())}));a(t)})).catch((function(e){console.log(e)}))}),[]),Object(j.jsx)("div",{children:Object(j.jsx)(g,{categories:c})})},S=(c(45),function(){return Object(j.jsxs)("div",{className:"footer",children:[Object(j.jsx)("h1",{children:"Alejo Tom\xe1s Clifton Goldney"}),Object(j.jsx)("h2",{children:"T\xe9cnico Universario en Programaci\xf3n"})]})}),P=function(e){var t=e.product;return Object(j.jsxs)("div",{className:"ItemsProducts",children:[Object(j.jsx)("img",{src:t.img,alt:"Imagen"}),Object(j.jsxs)("h1",{children:[" ",t.name," "]}),Object(j.jsxs)("p",{className:"Price",children:["$",t.price]}),Object(j.jsx)(x.b,{to:"/item/".concat(t.id),className:"linkClick",children:"ver detalle del producto"})]})},T=function(e){var t=e.products;return Object(j.jsx)("div",{className:"listProduct",children:t.map((function(e){return Object(j.jsx)(P,{product:e},e.id)}))})},D=(c(46),function(e){e.greeting,e.classItemListContainer;var t=Object(n.useState)([]),c=Object(o.a)(t,2),a=c[0],s=c[1],i=Object(m.g)().categoryId,r=Object(n.useState)(!1),d=Object(o.a)(r,2),l=d[0],b=d[1];return Object(n.useEffect)((function(){(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return""===t?new N.f(Object(N.c)(k,e)).then((function(e){return e.docs.map((function(e){return Object(f.a)({id:e.id},e.data())}))})).catch((function(e){console.log(e)})):new N.f(Object(N.h)(Object(N.c)(k,e),Object(N.i)("categoryId","==",t))).then((function(e){return e.docs.map((function(e){return Object(f.a)({id:e.id},e.data())}))})).catch((function(e){console.log(e)}))})("items",i).then((function(e){s(e),0===e.length?b(!1):b(!0)})).catch((function(e){console.log(e)}))}),[i]),Object(j.jsx)("div",{className:"itemListContainer",children:l?Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{className:"title",children:"Productos"}),Object(j.jsx)(T,{products:a})]}):Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:"Cargando..."}),Object(j.jsxs)("div",{className:"lds-facebook",children:[Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{})]})]})})}),B=function(e){var t=e.getStock,c=e.getInitial,a=e.onAdd,s=Object(n.useState)(t),i=Object(o.a)(s,1)[0],r=Object(n.useState)(c),d=Object(o.a)(r,2),l=d[0],b=d[1];return Object(j.jsx)("div",{className:"itemCount",children:Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"numbers",children:[Object(j.jsx)("i",{className:"fas fa-minus",onClick:function(){l>0&&b(l-1)}}),Object(j.jsx)("span",{children:l}),Object(j.jsx)("i",{className:"fas fa-plus",onClick:function(){l<i&&b(l+1)}})]}),Object(j.jsx)("button",{className:"buttonClick",onClick:function(){a(l)},children:"Agregar al Carrito"})]})})},E=(c(47),function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],a=t[1],s=Object(m.g)().paramId,i=Object(n.useContext)(b),r=i.addItemCart,d=i.addQuantity,l=i.addQuantityById,u=i.itemById,O=Object(n.useContext)(h).setNotification,v=Object(n.useState)(!1),p=Object(o.a)(v,2),g=p[0],C=p[1],y=Object(n.useState)(!1),I=Object(o.a)(y,2),S=I[0],P=I[1];return Object(n.useEffect)((function(){var e,t;return(e="items",t=s,new N.e(Object(N.d)(k,e,t)).then((function(e){return Object(f.a)({id:e.id},e.data())})).catch((function(e){console.log(e)}))).then((function(e){a(e),P(!0)})).catch((function(e){console.log(e)})),function(){a()}}),[s]),Object(j.jsx)("div",{className:"itemDetailContainer",children:S?Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{className:"title",children:"Producto Seleccionado"}),Object(j.jsxs)("h2",{children:[" ",c.name," "]}),Object(j.jsxs)("div",{className:"containerDetail",children:[Object(j.jsx)("img",{src:c.img,alt:"Imagen"}),Object(j.jsxs)("div",{children:[Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{className:"span",children:"Descripcion:"})," ",c.description]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{className:"span",children:"Precio:"})," $",c.price]}),c.stock>0?Object(j.jsxs)("div",{children:[Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{className:"span",children:"Stock Disponible:"})," ",c.stock]}),g?Object(j.jsxs)("div",{className:"link",children:[Object(j.jsx)("div",{children:Object(j.jsx)(x.b,{className:"linkClick",to:"/",children:"Seleccionar otro Art\xedculo"})}),Object(j.jsx)("div",{children:Object(j.jsx)(x.b,{className:"linkClick",to:"/cart",children:"Ir al Carrito"})})]}):Object(j.jsx)(B,{getStock:c.stock,onAdd:function(e){if(e>0){var t=u(c.id);t?t.count+e<=c.stock?(O("succes","\xa1Agregada la cantidad de ".concat(e," de ").concat(c.name," a tu carrito!")),l(c.id,e),C(!0)):O("error","\xa1Ingresaste m\xe1s productos del stock permitido!"):(r({oneProduct:c,count:e}),O("succes","\xa1Agregada la cantidad de ".concat(e," de ").concat(c.name," a tu carrito!")),d(e),C(!0))}else O("error","\xa1No seleccionaste ning\xfan art\xedculo de ".concat(c.name," a tu carrito!"))},getInitial:0})]}):Object(j.jsx)("p",{className:"spanBlock",children:"Stock No Disponible"})]})]})]}):Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{className:"title",children:"Cargando..."}),Object(j.jsxs)("div",{className:"lds-facebook",children:[Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{})]})]})})}),A=function(e){var t=e.item,c=e.count,a=Object(n.useContext)(b).removeItemCart;return Object(j.jsx)("tbody",{className:"listCartBody",children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:Object(j.jsx)("img",{src:t.img,alt:"Imagen"})}),Object(j.jsx)("td",{children:Object(j.jsxs)("h1",{children:[" ",t.name," "]})}),Object(j.jsx)("td",{children:Object(j.jsx)("h2",{className:"Count",children:c})}),Object(j.jsx)("td",{children:Object(j.jsxs)("h2",{className:"Price",children:["$",t.price*c]})}),Object(j.jsx)("td",{children:Object(j.jsx)("i",{onClick:function(){a(t.id,c)},className:"far fa-times-circle"})})]})})},q=function(e){var t=e.items,c=e.total;return Object(j.jsxs)("table",{className:"listCartProduct",children:[Object(j.jsx)("thead",{className:"listCartHead",children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Productos"}),Object(j.jsx)("th",{children:"Nombre"}),Object(j.jsx)("th",{children:"Cantidad"}),Object(j.jsx)("th",{children:"Precio"}),Object(j.jsx)("th",{})]})}),t.map((function(e){return Object(j.jsx)(A,{item:e.oneProduct,count:e.count},e.oneProduct.id)})),Object(j.jsx)("tfoot",{children:Object(j.jsxs)("tr",{className:"listCartTotal",children:[Object(j.jsx)("td",{}),Object(j.jsx)("td",{}),Object(j.jsx)("td",{children:Object(j.jsx)("h2",{children:"Total:"})}),Object(j.jsx)("td",{children:Object(j.jsxs)("h2",{children:["$",c]})}),Object(j.jsx)("td",{})]})})]})},w=(c(48),function(){var e=Object(n.useContext)(b).itemCart,t=Object(n.useContext)(b),c=t.clearItems,a=t.values,s=Object(n.useContext)(h).setNotification;return Object(j.jsx)("div",{className:"containerCart",children:0!==e.length?Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{className:"buttonCart",onClick:c,children:"Borrar todos los items"}),Object(j.jsx)(q,{items:e,total:a.total}),Object(j.jsx)(x.b,{to:"/checkout",onClick:function(){s("succes","\xa1Finalizaste tu compra! \xa1compraste ".concat(a.quantity," productos a $").concat(a.total,"!"))},children:Object(j.jsx)("button",{className:"buttonCartEnd",children:"Terminar Compra"})})]}):Object(j.jsxs)("div",{className:"listNotCart",children:[Object(j.jsx)(x.b,{to:"/",children:Object(j.jsx)("button",{className:"buttonCart",children:"Volver a la tienda"})}),Object(j.jsx)("h2",{children:"Tu carrito est\xe1 vac\xedo"}),Object(j.jsx)("h3",{children:"\xbfNo sab\xe9s qu\xe9 comprar? \xa1Miles de productos te esperan!"})]})})}),$=c(10),F=(c(49),function(){var e=Object(n.useContext)(b),t=e.itemCart,c=e.clearItems,a=e.values,s=e.updateEmail,i=Object(n.useContext)(h).setNotification,r=Object(n.useState)({nombre:"",apellido:"",telefono:"",email:""}),d=Object(o.a)(r,2),l=d[0],u=d[1],O=Object(n.useState)(!1),v=Object(o.a)(O,2),p=v[0],g=v[1],C=Object(m.f)(),y=Object(N.j)(k),I=[],S=function(e){var t=e.target,c=t.name,n=t.value;u(Object(f.a)(Object(f.a)({},l),{},Object($.a)({},c,n)))};return Object(j.jsx)("div",{className:"checkoutContainer",children:t.length>0?Object(j.jsx)("div",{children:p?Object(j.jsx)("h1",{children:"Ser\xe1 redirigido al Dashboard"}):Object(j.jsxs)("form",{method:"post",onSubmit:function(e){e.preventDefault();var n={buyer:{nombre:l.nombre,apellido:l.apellido,phone:l.telefono,email:l.email},items:t,total:a.total,date:N.a.fromDate(new Date)};n.items.forEach((function(e){Object(N.e)(Object(N.d)(k,"items",e.oneProduct.id)).then((function(t){t.data().stock>=e.count?y.update(Object(N.d)(k,"items",t.id),{stock:t.data().stock-e.count}):I.push(Object(f.a)({id:t.id},t.data()))})).catch((function(e){console.log(e)}))})),0===I.length&&Object(N.b)(Object(N.c)(k,"orders"),n).then((function(e){var t=e.id;y.commit().then((function(){i("succes","Su orden es: "+t)}))})).catch((function(e){i("error","Error ejecutando la orden"+e)})).finally((function(){s(n.buyer.email),setTimeout((function(){C("/dashboard"),c()}),4e3),g(!0)}))},children:[Object(j.jsx)("h1",{children:"Ingresar Datos"}),Object(j.jsx)("div",{className:"containerText",children:Object(j.jsx)("input",{type:"text",placeholder:"Nombre",name:"nombre",id:"nombre",required:!0,onChange:S})}),Object(j.jsx)("div",{className:"containerText",children:Object(j.jsx)("input",{type:"text",placeholder:"Apellido",name:"apellido",id:"apellido",required:!0,onChange:S})}),Object(j.jsx)("div",{className:"containerText",children:Object(j.jsx)("input",{type:"email",placeholder:"Email",name:"email",id:"email",required:!0,onChange:S})}),Object(j.jsx)("div",{className:"containerText",children:Object(j.jsx)("input",{type:"phone",placeholder:"Tel\xe9fono",name:"telefono",id:"telefono",required:!0,onChange:S})}),Object(j.jsxs)("p",{children:["Total: $",a.total]}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{type:"submit",children:"Enviar"})})]})}):Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"No hay productos en el carrito"}),Object(j.jsx)(x.b,{to:"/",children:Object(j.jsx)("button",{className:"buttonCart",children:"Volver a la tienda"})})]})})}),L=(c(50),function(){var e=Object(n.useContext)(h),t=e.notification,c=e.setNotification;return""===t.message?null:Object(j.jsx)("div",{className:"notification",style:{color:"error"===t.severity?"red":"green"},onClick:function(){return c("succes","")},children:Object(j.jsx)("h1",{children:t.message})})}),Q=(c(51),function(e){var t=e.product;return Object(j.jsxs)("div",{className:"ItemsD",children:[Object(j.jsxs)("h1",{children:["ID de Compra: ",t.id]}),Object(j.jsx)("h2",{children:t.buyer.email}),Object(j.jsx)("p",{children:"Productos:"}),t.items.length>0&&t.items.map((function(e){return Object(j.jsxs)("ul",{className:"ulItemsD",children:[Object(j.jsx)("li",{children:e.oneProduct.name}),Object(j.jsxs)("li",{children:["$",e.oneProduct.price]}),Object(j.jsxs)("li",{children:["x",e.count]})]},e.oneProduct.id)})),Object(j.jsxs)("h3",{children:["Total: $",t.total]})]})}),V=function(e){var t=e.products;return Object(j.jsx)("div",{className:"itemsDash",children:t.map((function(e){return Object(j.jsx)(Q,{product:e},e.id)}))})},z=function(){var e=Object(n.useContext)(b).values,t=Object(n.useState)([]),c=Object(o.a)(t,2),a=c[0],s=c[1],i=Object(n.useState)(!1),r=Object(o.a)(i,2),d=r[0],l=r[1];return Object(n.useEffect)((function(){var t;(t="orders",new N.f(Object(N.c)(k,t)).then((function(e){return e.docs.map((function(e){return Object(f.a)({id:e.id},e.data())}))})).catch((function(e){console.log(e)}))).then((function(t){s(t.filter((function(t){return t.buyer.email===e.email}))),0===t.length?l(!1):l(!0)})).catch((function(e){console.log(e)}))}),[e.email]),Object(j.jsx)("div",{className:"dashBoardContainer",children:""!==e.email?Object(j.jsxs)("div",{children:[d?Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{className:"title",children:"Tu Lista de Compras"}),Object(j.jsx)(V,{products:a})]}):Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:"Cargando..."}),Object(j.jsxs)("div",{className:"lds-facebook",children:[Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{})]})]}),Object(j.jsx)(x.b,{to:"/",children:Object(j.jsx)("button",{className:"buttonCart",children:"Volver a la tienda"})})]}):Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{className:"title",children:"No compraste nada a\xfan"}),Object(j.jsx)(x.b,{to:"/",children:Object(j.jsx)("button",{className:"buttonCart",children:"Volver a la tienda"})})]})})};var G=function(){return Object(j.jsx)("div",{className:"App",children:Object(j.jsx)(O,{children:Object(j.jsx)(l,{children:Object(j.jsxs)(x.a,{children:[Object(j.jsx)(I,{}),Object(j.jsx)(L,{}),Object(j.jsxs)(m.c,{children:[Object(j.jsx)(m.a,{path:"/",element:Object(j.jsx)(D,{})}),Object(j.jsx)(m.a,{path:"/category/:categoryId",element:Object(j.jsx)(D,{})}),Object(j.jsx)(m.a,{path:"/item/:paramId",element:Object(j.jsx)(E,{})}),Object(j.jsx)(m.a,{path:"/cart",element:Object(j.jsx)(w,{})}),Object(j.jsx)(m.a,{path:"/checkout",element:Object(j.jsx)(F,{})}),Object(j.jsx)(m.a,{path:"/dashboard",element:Object(j.jsx)(z,{})})]}),Object(j.jsx)(S,{})]})})})})},M=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,53)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),s(e),i(e)}))};i.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(G,{})}),document.getElementById("root")),M()}},[[52,1,2]]]);
//# sourceMappingURL=main.9cbd62c3.chunk.js.map